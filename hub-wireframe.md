# ğŸ¯ WIREFRAME - TELA DO HUB

## ğŸ“± Layout Principal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ  MEGA-BOLÃƒO 2025                    ğŸ‘¤ UsuÃ¡rio    [Sair]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ§  CONTROLE DE CACHE                                        â”‚ â”‚
â”‚ â”‚ Status: âœ… Online                                           â”‚ â”‚
â”‚ â”‚ [ğŸ—‘ï¸ Limpar] [ğŸ”„ Atualizar] [âœ… Validar]                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ‘¥ PARTICIPANTES (badge: total)  ğŸ² LOTERIAS E BOLÃ•ES (badge: total) â”‚ â”‚
â”‚ â”‚ [â• Criar] [âœï¸ Editar]           [â• Criar Loteria] [âœï¸ Editar]      â”‚ â”‚
â”‚ â”‚                                   [ğŸ¯ Criar BolÃ£o]                  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“Š LOTERIAS E BOLÃ•ES                                        â”‚ â”‚
â”‚ â”‚                                                             â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚ ğŸ² LOTOFÃCIL                    3 bolÃµes â€¢ R$ 2,50      â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                                         â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ BolÃ£o 001   â”‚ â”‚ BolÃ£o 002   â”‚ â”‚ BolÃ£o 003   â”‚         â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ 15 jogos    â”‚ â”‚ 20 jogos    â”‚ â”‚ 25 jogos    â”‚         â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ 2 concursos â”‚ â”‚ 3 concursos â”‚ â”‚ 1 concurso  â”‚         â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ 8 participantesâ”‚ â”‚ 12 participantesâ”‚ â”‚ 5 participantesâ”‚ â”‚
â”‚ â”‚ â”‚ â”‚ [ğŸ”—][ğŸ‘ï¸][âœï¸] â”‚ â”‚ [ğŸ”—][ğŸ‘ï¸][âœï¸] â”‚ â”‚ [ğŸ”—][ğŸ‘ï¸][âœï¸] â”‚         â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â”‚                                                             â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚ ğŸ¯ MEGA-SENA                   2 bolÃµes â€¢ R$ 4,50      â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                                         â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ BolÃ£o 001   â”‚ â”‚ BolÃ£o 002   â”‚                         â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ 6 jogos     â”‚ â”‚ 8 jogos     â”‚                         â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ 1 concurso  â”‚ â”‚ 2 concursos â”‚                         â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ 15 participantesâ”‚ â”‚ 20 participantesâ”‚                 â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ [ğŸ”—][ğŸ‘ï¸][âœï¸] â”‚ â”‚ [ğŸ”—][ğŸ‘ï¸][âœï¸] â”‚                         â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“Š RELATÃ“RIOS                                               â”‚ â”‚
â”‚ â”‚ [ğŸ“Š RelatÃ³rios Gerais] [ğŸ“ˆ EstatÃ­sticas]                   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âš¡ SISTEMA                    ğŸ“ˆ ESTATÃSTICAS DO SISTEMA   â”‚ â”‚
â”‚ â”‚ Status: âœ… Online            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚ â”‚
â”‚ â”‚ Ãšltima: 29/01/2025 20:15    â”‚    5    â”‚ â”‚   12    â”‚     â”‚ â”‚
â”‚ â”‚ Ambiente: ProduÃ§Ã£o          â”‚ Loteriasâ”‚ â”‚ BolÃµes  â”‚     â”‚ â”‚
â”‚ â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â”‚
â”‚ â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚ â”‚
â”‚ â”‚                              â”‚    3    â”‚ â”‚  1.2.3  â”‚     â”‚ â”‚
â”‚ â”‚                              â”‚Resultadosâ”‚ â”‚ VersÃ£o  â”‚     â”‚ â”‚
â”‚ â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Elementos de Design

### **Header:**
- Logo/TÃ­tulo centralizado
- Avatar do usuÃ¡rio Ã  direita
- BotÃ£o de logout

### **Cards Administrativos:**
- **Grid 2x1:** Participantes + Loterias e BolÃµes
- Badges de contagem no tÃ­tulo:
  - Participantes: total de participantes (apenas quando autenticado)
  - Loterias e BolÃµes: total de loterias cadastradas
- BotÃµes de aÃ§Ã£o: Criar, Editar, Criar BolÃ£o
- Design consistente com Ã­cones

### **Card Principal:**
- **ğŸ“Š Loterias e BolÃµes:** VisualizaÃ§Ã£o principal
- Renderizar somente loterias que possuem bolÃµes (se nÃ£o houver bolÃµes no sistema, ocultar a grade e exibir estado vazio global)
- Grid de loterias com seus respectivos bolÃµes
- AÃ§Ãµes por bolÃ£o: Link, Visualizar, Editar

### **Card de RelatÃ³rios:**
- **ğŸ“Š RelatÃ³rios:** AnÃ¡lise e consulta
- BotÃµes: RelatÃ³rios Gerais, EstatÃ­sticas

### **Grid Sistema (Ãšltima Linha):**
- **âš¡ Sistema:** Status, atualizaÃ§Ã£o, ambiente
- **ğŸ“ˆ EstatÃ­sticas:** MÃ©tricas consolidadas
- Grid 2x1 com informaÃ§Ãµes tÃ©cnicas

## ğŸ”„ Fluxo de Uso

### **1. AÃ§Ãµes Administrativas:**
- **ğŸ‘¥ Participantes:** Criar e editar usuÃ¡rios
- **ğŸ² Loterias e BolÃµes:** Gerenciar entidades principais

### **2. VisualizaÃ§Ã£o:**
- **ğŸ“Š Loterias e BolÃµes:** Dados principais com aÃ§Ãµes por bolÃ£o
- Contadores carregados no onload (loterias) e via sessÃ£o autenticada (participantes)

### **3. AnÃ¡lise:**
- **ğŸ“Š RelatÃ³rios:** Consultas e relatÃ³rios gerais

### **4. Sistema:**
- **âš¡ Sistema + ğŸ“ˆ EstatÃ­sticas:** InformaÃ§Ãµes tÃ©cnicas na base

## ğŸ“± Responsividade

### **Desktop (1200px+):**
- Grid 2x1 para cards administrativos
- Card Ãºnico para visualizaÃ§Ã£o principal
- Grid 2x1 para sistema e estatÃ­sticas

### **Tablet (768px-1199px):**
- Cards empilhados verticalmente
- Grid mantido para sistema e estatÃ­sticas

### **Mobile (<768px):**
- Stack vertical completo
- BotÃµes otimizados para toque
- Grid sistema em coluna Ãºnica

## ğŸ¯ Hierarquia Visual

### **Prioridade de AÃ§Ãµes:**
1. **ğŸ‘¥ Participantes + ğŸ² Loterias e BolÃµes** (AÃ§Ãµes administrativas)
2. **ğŸ“Š Loterias e BolÃµes** (VisualizaÃ§Ã£o principal)
3. **ğŸ“Š RelatÃ³rios** (AnÃ¡lise e consulta)
4. **âš¡ Sistema + ğŸ“ˆ EstatÃ­sticas** (InformaÃ§Ãµes tÃ©cnicas - ÃšLTIMA LINHA)

### **Agrupamento LÃ³gico:**
- **AÃ§Ãµes Administrativas:** Primeira linha (mais acessÃ­vel)
- **VisualizaÃ§Ã£o:** Dados principais
- **AnÃ¡lise:** RelatÃ³rios
- **Sistema:** InformaÃ§Ãµes tÃ©cnicas na base

## ğŸ—ƒï¸ Cache Local e Regras

- Armazenamento local (localStorage) com TTL e versionamento:
  - `loterias` (pÃºblico)
  - `boloesByLoteria:{loteriaId}` (pÃºblico)
  - `jogos:{bolaoId}` (pÃºblico)
  - `counts` (pÃºblico)
  - `bolaoAgg:{bolaoId}` (pÃºblico): { totalCotas, participantesCount }
- (Opcional implementado): `bolÃµes.{id}.agg` persistido no Firestore para leitura pÃºblica direta e sincronismo com cache local.
- Participantes (sensÃ­vel): nÃ£o persistir PII em localStorage; somente derivados agregados por bolÃ£o em `bolaoAgg`. Dados completos apenas em sessÃ£o admin.
- InvalidaÃ§Ã£o: CRUD em participantes/loterias/bolÃµes limpa chaves afetadas e re-sincroniza com Firestore.

## ğŸŒ Rede e ResiliÃªncia

- Retry com backoff (exponential + jitter) nas leituras pÃºblicas (loterias/bolÃµes): 5 tentativas, base 300ms, 2Ã—, jitter 30%, timeout 7s.
- SWR (stale-while-revalidate): renderiza cache imediato e revalida em segundo plano, atualizando a UI ao concluir.
- DegradaÃ§Ã£o: quando offline/erro, exibe cache (se disponÃ­vel) com aviso; sem cache, estado â€œIndisponÃ­velâ€ com CTA de tentar novamente.
- RevalidaÃ§Ã£o automÃ¡tica: ao ganhar foco/voltar online.
- SincronizaÃ§Ã£o entre abas: `storage` event para revalidar quando chaves de cache forem alteradas em outra aba.